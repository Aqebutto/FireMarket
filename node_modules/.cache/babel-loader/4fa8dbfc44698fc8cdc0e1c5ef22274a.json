{"ast":null,"code":"import _defineProperty from \"/home/alex/Documents/CS/React/Fire Market/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/alex/Documents/CS/React/Fire Market/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/alex/Documents/CS/React/Fire Market/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/alex/Documents/CS/React/Fire Market/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/alex/Documents/CS/React/Fire Market/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/alex/Documents/CS/React/Fire Market/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/alex/Documents/CS/React/Fire Market/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/alex/Documents/CS/React/Fire Market/src/components/SignIn/index.js\";\nimport React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { compose } from \"recompose\";\nimport { SignUpLink } from \"../SignUp\";\nimport { PasswordForgetLink } from \"../PasswordForget\";\nimport { withFirebase } from \"../Firebase\";\nimport * as ROUTES from \"../../constants/routes\";\nimport { Grid, Form, Button, Header, Icon, Message, Divider } from \"semantic-ui-react\";\n\nvar SignInPage = function SignInPage() {\n  return React.createElement(Grid, {\n    centered: true,\n    columns: 2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, React.createElement(Grid.Column, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, React.createElement(Header, {\n    as: \"h2\",\n    textAlign: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }, \"Sign In\"), React.createElement(SignInForm, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26\n    },\n    __self: this\n  }), React.createElement(SignInGoogle, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27\n    },\n    __self: this\n  }), React.createElement(SignInFacebook, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28\n    },\n    __self: this\n  }), React.createElement(SignInTwitter, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }), React.createElement(SignUpLink, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  })));\n};\n\nvar INITIAL_STATE = {\n  email: \"\",\n  password: \"\",\n  error: null\n};\nvar ERROR_CODE_ACCOUNT_EXISTS = \"auth/account-exists-with-different-credential\";\nvar ERROR_MSG_ACCOUNT_EXISTS = \"\\n  An account with an E-Mail address to\\n  this social account already exists. Try to login from\\n  this account instead and associate your social accounts on\\n  your personal account page.\\n\";\n\nvar SignInFormBase =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SignInFormBase, _Component);\n\n  function SignInFormBase(props) {\n    var _this;\n\n    _classCallCheck(this, SignInFormBase);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SignInFormBase).call(this, props));\n\n    _this.onSubmit = function (event) {\n      var _this$state = _this.state,\n          email = _this$state.email,\n          password = _this$state.password;\n\n      _this.props.firebase.doSignInWithEmailAndPassword(email, password).then(function () {\n        _this.setState(_objectSpread({}, INITIAL_STATE));\n\n        _this.props.history.push(ROUTES.LANDING);\n      }).catch(function (error) {\n        _this.setState({\n          error: error\n        });\n      });\n\n      event.preventDefault();\n    };\n\n    _this.onChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.state = _objectSpread({}, INITIAL_STATE);\n    return _this;\n  }\n\n  _createClass(SignInFormBase, [{\n    key: \"render\",\n    value: function render() {\n      var _this$state2 = this.state,\n          email = _this$state2.email,\n          password = _this$state2.password,\n          error = _this$state2.error;\n      var isInvalid = password === \"\" || email === \"\";\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, error && React.createElement(Message, {\n        negative: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, error.message)), React.createElement(Form, {\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, \"Email\"), React.createElement(\"input\", {\n        name: \"email\",\n        value: email,\n        onChange: this.onChange,\n        type: \"text\",\n        placeholder: \"Email Address\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      })), React.createElement(Form.Field, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"input\", {\n        name: \"password\",\n        value: password,\n        onChange: this.onChange,\n        type: \"password\",\n        placeholder: \"Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      })), React.createElement(Button, {\n        primary: true,\n        disabled: isInvalid,\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"Submit\"), React.createElement(PasswordForgetLink, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }), React.createElement(Divider, {\n        horizontal: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, \"Or sign in with\")));\n    }\n  }]);\n\n  return SignInFormBase;\n}(Component);\n\nvar SignInGoogleBase =\n/*#__PURE__*/\nfunction (_Component2) {\n  _inherits(SignInGoogleBase, _Component2);\n\n  function SignInGoogleBase(props) {\n    var _this2;\n\n    _classCallCheck(this, SignInGoogleBase);\n\n    _this2 = _possibleConstructorReturn(this, _getPrototypeOf(SignInGoogleBase).call(this, props));\n\n    _this2.onSubmit = function (event) {\n      _this2.props.firebase.doSignInWithGoogle().then(function (socialAuthUser) {\n        // Create a user in your Firebase Realtime Database too\n        return _this2.props.firebase.user(socialAuthUser.user.uid).set({\n          username: socialAuthUser.user.displayName,\n          email: socialAuthUser.user.email,\n          roles: []\n        });\n      }).then(function () {\n        _this2.setState({\n          error: null\n        });\n\n        _this2.props.history.push(ROUTES.HOME);\n      }).catch(function (error) {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n\n        _this2.setState({\n          error: error\n        });\n      });\n\n      event.preventDefault();\n    };\n\n    _this2.state = {\n      error: null\n    };\n    return _this2;\n  }\n\n  _createClass(SignInGoogleBase, [{\n    key: \"render\",\n    value: function render() {\n      var error = this.state.error;\n      return React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        className: \"inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"google plus\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"google\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }), \" Google\"), error && React.createElement(Message, {\n        negative: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      }, error.message)));\n    }\n  }]);\n\n  return SignInGoogleBase;\n}(Component);\n\nvar SignInFacebookBase =\n/*#__PURE__*/\nfunction (_Component3) {\n  _inherits(SignInFacebookBase, _Component3);\n\n  function SignInFacebookBase(props) {\n    var _this3;\n\n    _classCallCheck(this, SignInFacebookBase);\n\n    _this3 = _possibleConstructorReturn(this, _getPrototypeOf(SignInFacebookBase).call(this, props));\n\n    _this3.onSubmit = function (event) {\n      _this3.props.firebase.doSignInWithFacebook().then(function (socialAuthUser) {\n        // Create a user in your Firebase Realtime Database too\n        return _this3.props.firebase.user(socialAuthUser.user.uid).set({\n          username: socialAuthUser.additionalUserInfo.profile.name,\n          email: socialAuthUser.additionalUserInfo.profile.email,\n          roles: []\n        });\n      }).then(function () {\n        _this3.setState({\n          error: null\n        });\n\n        _this3.props.history.push(ROUTES.HOME);\n      }).catch(function (error) {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n\n        _this3.setState({\n          error: error\n        });\n      });\n\n      event.preventDefault();\n    };\n\n    _this3.state = {\n      error: null\n    };\n    return _this3;\n  }\n\n  _createClass(SignInFacebookBase, [{\n    key: \"render\",\n    value: function render() {\n      var error = this.state.error;\n      return React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        className: \"inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"facebook\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"facebook\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }), \" Facebook\"), error && React.createElement(Message, {\n        negative: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 217\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      }, error.message)));\n    }\n  }]);\n\n  return SignInFacebookBase;\n}(Component);\n\nvar SignInTwitterBase =\n/*#__PURE__*/\nfunction (_Component4) {\n  _inherits(SignInTwitterBase, _Component4);\n\n  function SignInTwitterBase(props) {\n    var _this4;\n\n    _classCallCheck(this, SignInTwitterBase);\n\n    _this4 = _possibleConstructorReturn(this, _getPrototypeOf(SignInTwitterBase).call(this, props));\n\n    _this4.onSubmit = function (event) {\n      _this4.props.firebase.doSignInWithTwitter().then(function (socialAuthUser) {\n        // Create a user in your Firebase Realtime Database too\n        return _this4.props.firebase.user(socialAuthUser.user.uid).set({\n          username: socialAuthUser.additionalUserInfo.profile.name,\n          email: socialAuthUser.additionalUserInfo.profile.email,\n          roles: []\n        });\n      }).then(function () {\n        _this4.setState({\n          error: null\n        });\n\n        _this4.props.history.push(ROUTES.HOME);\n      }).catch(function (error) {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n\n        _this4.setState({\n          error: error\n        });\n      });\n\n      event.preventDefault();\n    };\n\n    _this4.state = {\n      error: null\n    };\n    return _this4;\n  }\n\n  _createClass(SignInTwitterBase, [{\n    key: \"render\",\n    value: function render() {\n      var error = this.state.error;\n      return React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        className: \"inline\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 263\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"twitter\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        name: \"twitter\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }), \" Twitter\"), error && React.createElement(Message, {\n        negative: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 270\n        },\n        __self: this\n      }, error.message)));\n    }\n  }]);\n\n  return SignInTwitterBase;\n}(Component);\n\nvar SignInForm = compose(withRouter, withFirebase)(SignInFormBase);\nvar SignInGoogle = compose(withRouter, withFirebase)(SignInGoogleBase);\nvar SignInFacebook = compose(withRouter, withFirebase)(SignInFacebookBase);\nvar SignInTwitter = compose(withRouter, withFirebase)(SignInTwitterBase);\nexport default SignInPage;\nexport { SignInForm, SignInGoogle, SignInFacebook, SignInTwitter };","map":{"version":3,"sources":["/home/alex/Documents/CS/React/Fire Market/src/components/SignIn/index.js"],"names":["React","Component","withRouter","compose","SignUpLink","PasswordForgetLink","withFirebase","ROUTES","Grid","Form","Button","Header","Icon","Message","Divider","SignInPage","INITIAL_STATE","email","password","error","ERROR_CODE_ACCOUNT_EXISTS","ERROR_MSG_ACCOUNT_EXISTS","SignInFormBase","props","onSubmit","event","state","firebase","doSignInWithEmailAndPassword","then","setState","history","push","LANDING","catch","preventDefault","onChange","target","name","value","isInvalid","message","SignInGoogleBase","doSignInWithGoogle","socialAuthUser","user","uid","set","username","displayName","roles","HOME","code","SignInFacebookBase","doSignInWithFacebook","additionalUserInfo","profile","SignInTwitterBase","doSignInWithTwitter","SignInForm","SignInGoogle","SignInFacebook","SignInTwitter"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { compose } from \"recompose\";\n\nimport { SignUpLink } from \"../SignUp\";\nimport { PasswordForgetLink } from \"../PasswordForget\";\nimport { withFirebase } from \"../Firebase\";\nimport * as ROUTES from \"../../constants/routes\";\n\nimport {\n  Grid,\n  Form,\n  Button,\n  Header,\n  Icon,\n  Message,\n  Divider\n} from \"semantic-ui-react\";\n\nconst SignInPage = () => (\n  <Grid centered columns={2}>\n    <Grid.Column>\n      <Header as=\"h2\" textAlign=\"center\">\n        Sign In\n      </Header>\n      <SignInForm />\n      <SignInGoogle />\n      <SignInFacebook />\n      <SignInTwitter />\n      <SignUpLink />\n    </Grid.Column>\n  </Grid>\n);\n\nconst INITIAL_STATE = {\n  email: \"\",\n  password: \"\",\n  error: null\n};\n\nconst ERROR_CODE_ACCOUNT_EXISTS =\n  \"auth/account-exists-with-different-credential\";\n\nconst ERROR_MSG_ACCOUNT_EXISTS = `\n  An account with an E-Mail address to\n  this social account already exists. Try to login from\n  this account instead and associate your social accounts on\n  your personal account page.\n`;\n\nclass SignInFormBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { ...INITIAL_STATE };\n  }\n\n  onSubmit = event => {\n    const { email, password } = this.state;\n\n    this.props.firebase\n      .doSignInWithEmailAndPassword(email, password)\n      .then(() => {\n        this.setState({ ...INITIAL_STATE });\n        this.props.history.push(ROUTES.LANDING);\n      })\n      .catch(error => {\n        this.setState({ error });\n      });\n\n    event.preventDefault();\n  };\n\n  onChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  render() {\n    const { email, password, error } = this.state;\n\n    const isInvalid = password === \"\" || email === \"\";\n\n    return (\n      <div>\n        {error && (\n          <Message negative>\n            <p>{error.message}</p>\n          </Message>\n        )}\n        <Form onSubmit={this.onSubmit}>\n          <Form.Field>\n            <label>Email</label>\n            <input\n              name=\"email\"\n              value={email}\n              onChange={this.onChange}\n              type=\"text\"\n              placeholder=\"Email Address\"\n            />\n          </Form.Field>\n          <Form.Field>\n            <label>Password</label>\n            <input\n              name=\"password\"\n              value={password}\n              onChange={this.onChange}\n              type=\"password\"\n              placeholder=\"Password\"\n            />\n          </Form.Field>\n          <Button primary disabled={isInvalid} type=\"submit\">\n            Submit\n          </Button>\n          <PasswordForgetLink />\n          <Divider horizontal>Or sign in with</Divider>\n        </Form>\n      </div>\n    );\n  }\n}\n\nclass SignInGoogleBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { error: null };\n  }\n\n  onSubmit = event => {\n    this.props.firebase\n      .doSignInWithGoogle()\n      .then(socialAuthUser => {\n        // Create a user in your Firebase Realtime Database too\n        return this.props.firebase.user(socialAuthUser.user.uid).set({\n          username: socialAuthUser.user.displayName,\n          email: socialAuthUser.user.email,\n          roles: []\n        });\n      })\n      .then(() => {\n        this.setState({ error: null });\n        this.props.history.push(ROUTES.HOME);\n      })\n      .catch(error => {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n\n        this.setState({ error });\n      });\n\n    event.preventDefault();\n  };\n\n  render() {\n    const { error } = this.state;\n\n    return (\n      <form onSubmit={this.onSubmit} className=\"inline\">\n        <Button color=\"google plus\" type=\"submit\">\n          <Icon name=\"google\" /> Google\n        </Button>\n\n        {error && (\n          <Message negative>\n            <p>{error.message}</p>\n          </Message>\n        )}\n      </form>\n    );\n  }\n}\n\nclass SignInFacebookBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { error: null };\n  }\n\n  onSubmit = event => {\n    this.props.firebase\n      .doSignInWithFacebook()\n      .then(socialAuthUser => {\n        // Create a user in your Firebase Realtime Database too\n        return this.props.firebase.user(socialAuthUser.user.uid).set({\n          username: socialAuthUser.additionalUserInfo.profile.name,\n          email: socialAuthUser.additionalUserInfo.profile.email,\n          roles: []\n        });\n      })\n      .then(() => {\n        this.setState({ error: null });\n        this.props.history.push(ROUTES.HOME);\n      })\n      .catch(error => {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n\n        this.setState({ error });\n      });\n\n    event.preventDefault();\n  };\n\n  render() {\n    const { error } = this.state;\n\n    return (\n      <form onSubmit={this.onSubmit} className=\"inline\">\n        <Button color=\"facebook\" type=\"submit\">\n          <Icon name=\"facebook\" /> Facebook\n        </Button>\n\n        {error && (\n          <Message negative>\n            <p>{error.message}</p>\n          </Message>\n        )}\n      </form>\n    );\n  }\n}\n\nclass SignInTwitterBase extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { error: null };\n  }\n\n  onSubmit = event => {\n    this.props.firebase\n      .doSignInWithTwitter()\n      .then(socialAuthUser => {\n        // Create a user in your Firebase Realtime Database too\n        return this.props.firebase.user(socialAuthUser.user.uid).set({\n          username: socialAuthUser.additionalUserInfo.profile.name,\n          email: socialAuthUser.additionalUserInfo.profile.email,\n          roles: []\n        });\n      })\n      .then(() => {\n        this.setState({ error: null });\n        this.props.history.push(ROUTES.HOME);\n      })\n      .catch(error => {\n        if (error.code === ERROR_CODE_ACCOUNT_EXISTS) {\n          error.message = ERROR_MSG_ACCOUNT_EXISTS;\n        }\n\n        this.setState({ error });\n      });\n\n    event.preventDefault();\n  };\n\n  render() {\n    const { error } = this.state;\n\n    return (\n      <form onSubmit={this.onSubmit} className=\"inline\">\n        <Button color=\"twitter\" type=\"submit\">\n          <Icon name=\"twitter\" /> Twitter\n        </Button>\n\n        {error && (\n          <Message negative>\n            <p>{error.message}</p>\n          </Message>\n        )}\n      </form>\n    );\n  }\n}\n\nconst SignInForm = compose(\n  withRouter,\n  withFirebase\n)(SignInFormBase);\n\nconst SignInGoogle = compose(\n  withRouter,\n  withFirebase\n)(SignInGoogleBase);\n\nconst SignInFacebook = compose(\n  withRouter,\n  withFirebase\n)(SignInFacebookBase);\n\nconst SignInTwitter = compose(\n  withRouter,\n  withFirebase\n)(SignInTwitterBase);\n\nexport default SignInPage;\n\nexport { SignInForm, SignInGoogle, SignInFacebook, SignInTwitter };\n"]},"metadata":{},"sourceType":"module"}