{"ast":null,"code":"var cart = {\n  itemTotal: function itemTotal() {\n    if (typeof window !== \"undefined\") {\n      if (localStorage.getItem('cart')) {\n        return JSON.parse(localStorage.getItem('cart')).length;\n      }\n    }\n\n    return 0;\n  },\n  addItem: function addItem(item, cb) {\n    var cart = [];\n\n    if (typeof window !== \"undefined\") {\n      if (localStorage.getItem('cart')) {\n        cart = JSON.parse(localStorage.getItem('cart'));\n      }\n\n      cart.push({\n        product: item,\n        quantity: 1,\n        shop: item.shop._id\n      });\n      localStorage.setItem('cart', JSON.stringify(cart));\n      cb();\n    }\n  },\n  updateCart: function updateCart(itemIndex, quantity) {\n    var cart = [];\n\n    if (typeof window !== \"undefined\") {\n      if (localStorage.getItem('cart')) {\n        cart = JSON.parse(localStorage.getItem('cart'));\n      }\n\n      cart[itemIndex].quantity = quantity;\n      localStorage.setItem('cart', JSON.stringify(cart));\n    }\n  },\n  getCart: function getCart() {\n    if (typeof window !== \"undefined\") {\n      if (localStorage.getItem('cart')) {\n        return JSON.parse(localStorage.getItem('cart'));\n      }\n    }\n\n    return [];\n  },\n  removeItem: function removeItem(itemIndex) {\n    var cart = [];\n\n    if (typeof window !== \"undefined\") {\n      if (localStorage.getItem('cart')) {\n        cart = JSON.parse(localStorage.getItem('cart'));\n      }\n\n      cart.splice(itemIndex, 1);\n      localStorage.setItem('cart', JSON.stringify(cart));\n    }\n\n    return cart;\n  },\n  emptyCart: function emptyCart(cb) {\n    if (typeof window !== \"undefined\") {\n      localStorage.removeItem('cart');\n      cb();\n    }\n  }\n};\nexport default cart;","map":{"version":3,"sources":["/home/alex/Documents/CS/React/Fire Market/src/components/cart/cart-helper.js"],"names":["cart","itemTotal","window","localStorage","getItem","JSON","parse","length","addItem","item","cb","push","product","quantity","shop","_id","setItem","stringify","updateCart","itemIndex","getCart","removeItem","splice","emptyCart"],"mappings":"AAAA,IAAMA,IAAI,GAAG;AACXC,EAAAA,SADW,uBACC;AACV,QAAI,OAAOC,MAAP,KAAkB,WAAtB,EAAmC;AACjC,UAAIC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAJ,EAAkC;AAChC,eAAOC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,EAAyCG,MAAhD;AACD;AACF;;AACD,WAAO,CAAP;AACD,GARU;AASXC,EAAAA,OATW,mBASHC,IATG,EASGC,EATH,EASO;AAChB,QAAIV,IAAI,GAAG,EAAX;;AACA,QAAI,OAAOE,MAAP,KAAkB,WAAtB,EAAmC;AACjC,UAAIC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAJ,EAAkC;AAChCJ,QAAAA,IAAI,GAAGK,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAP;AACD;;AACDJ,MAAAA,IAAI,CAACW,IAAL,CAAU;AACRC,QAAAA,OAAO,EAAEH,IADD;AAERI,QAAAA,QAAQ,EAAE,CAFF;AAGRC,QAAAA,IAAI,EAAEL,IAAI,CAACK,IAAL,CAAUC;AAHR,OAAV;AAKAZ,MAAAA,YAAY,CAACa,OAAb,CAAqB,MAArB,EAA6BX,IAAI,CAACY,SAAL,CAAejB,IAAf,CAA7B;AACAU,MAAAA,EAAE;AACH;AACF,GAvBU;AAwBXQ,EAAAA,UAxBW,sBAwBAC,SAxBA,EAwBWN,QAxBX,EAwBqB;AAC9B,QAAIb,IAAI,GAAG,EAAX;;AACA,QAAI,OAAOE,MAAP,KAAkB,WAAtB,EAAmC;AACjC,UAAIC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAJ,EAAkC;AAChCJ,QAAAA,IAAI,GAAGK,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAP;AACD;;AACDJ,MAAAA,IAAI,CAACmB,SAAD,CAAJ,CAAgBN,QAAhB,GAA2BA,QAA3B;AACAV,MAAAA,YAAY,CAACa,OAAb,CAAqB,MAArB,EAA6BX,IAAI,CAACY,SAAL,CAAejB,IAAf,CAA7B;AACD;AACF,GAjCU;AAkCXoB,EAAAA,OAlCW,qBAkCD;AACR,QAAI,OAAOlB,MAAP,KAAkB,WAAtB,EAAmC;AACjC,UAAIC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAJ,EAAkC;AAChC,eAAOC,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAP;AACD;AACF;;AACD,WAAO,EAAP;AACD,GAzCU;AA0CXiB,EAAAA,UA1CW,sBA0CAF,SA1CA,EA0CW;AACpB,QAAInB,IAAI,GAAG,EAAX;;AACA,QAAI,OAAOE,MAAP,KAAkB,WAAtB,EAAmC;AACjC,UAAIC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAJ,EAAkC;AAChCJ,QAAAA,IAAI,GAAGK,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAP;AACD;;AACDJ,MAAAA,IAAI,CAACsB,MAAL,CAAYH,SAAZ,EAAuB,CAAvB;AACAhB,MAAAA,YAAY,CAACa,OAAb,CAAqB,MAArB,EAA6BX,IAAI,CAACY,SAAL,CAAejB,IAAf,CAA7B;AACD;;AACD,WAAOA,IAAP;AACD,GApDU;AAqDXuB,EAAAA,SArDW,qBAqDDb,EArDC,EAqDG;AACZ,QAAI,OAAOR,MAAP,KAAkB,WAAtB,EAAmC;AACjCC,MAAAA,YAAY,CAACkB,UAAb,CAAwB,MAAxB;AACAX,MAAAA,EAAE;AACH;AACF;AA1DU,CAAb;AA6DA,eAAeV,IAAf","sourcesContent":["const cart = {\n  itemTotal() {\n    if (typeof window !== \"undefined\") {\n      if (localStorage.getItem('cart')) {\n        return JSON.parse(localStorage.getItem('cart')).length\n      }\n    }\n    return 0\n  },\n  addItem(item, cb) {\n    let cart = []\n    if (typeof window !== \"undefined\") {\n      if (localStorage.getItem('cart')) {\n        cart = JSON.parse(localStorage.getItem('cart'))\n      }\n      cart.push({\n        product: item,\n        quantity: 1,\n        shop: item.shop._id\n      })\n      localStorage.setItem('cart', JSON.stringify(cart))\n      cb()\n    }\n  },\n  updateCart(itemIndex, quantity) {\n    let cart = []\n    if (typeof window !== \"undefined\") {\n      if (localStorage.getItem('cart')) {\n        cart = JSON.parse(localStorage.getItem('cart'))\n      }\n      cart[itemIndex].quantity = quantity\n      localStorage.setItem('cart', JSON.stringify(cart))\n    }\n  },\n  getCart() {\n    if (typeof window !== \"undefined\") {\n      if (localStorage.getItem('cart')) {\n        return JSON.parse(localStorage.getItem('cart'))\n      }\n    }\n    return []\n  },\n  removeItem(itemIndex) {\n    let cart = []\n    if (typeof window !== \"undefined\") {\n      if (localStorage.getItem('cart')) {\n        cart = JSON.parse(localStorage.getItem('cart'))\n      }\n      cart.splice(itemIndex, 1)\n      localStorage.setItem('cart', JSON.stringify(cart))\n    }\n    return cart\n  },\n  emptyCart(cb) {\n    if (typeof window !== \"undefined\") {\n      localStorage.removeItem('cart')\n      cb()\n    }\n  }\n}\n\nexport default cart\n"]},"metadata":{},"sourceType":"module"}