{"ast":null,"code":"import { signout as _signout } from './api-auth.js';\nvar auth = {\n  isAuthenticated: function isAuthenticated() {\n    if (typeof window == \"undefined\") return false;\n    if (sessionStorage.getItem('jwt')) return JSON.parse(sessionStorage.getItem('jwt'));else return false;\n  },\n  authenticate: function authenticate(jwt, cb) {\n    if (typeof window !== \"undefined\") sessionStorage.setItem('jwt', JSON.stringify(jwt));\n    cb();\n  },\n  signout: function signout(cb) {\n    if (typeof window !== \"undefined\") sessionStorage.removeItem('jwt');\n    cb(); //optional\n\n    _signout().then(function (data) {\n      document.cookie = \"t=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\";\n    });\n  },\n  updateUser: function updateUser(user, cb) {\n    if (typeof window !== \"undefined\") {\n      if (sessionStorage.getItem('jwt')) {\n        var _auth = JSON.parse(sessionStorage.getItem('jwt'));\n\n        _auth.user = user;\n        sessionStorage.setItem('jwt', JSON.stringify(_auth));\n        cb();\n      }\n    }\n  }\n};\nexport default auth;","map":{"version":3,"sources":["/home/alex/Documents/CS/React/Fire Market/src/components/auth/auth-helper.js"],"names":["signout","auth","isAuthenticated","window","sessionStorage","getItem","JSON","parse","authenticate","jwt","cb","setItem","stringify","removeItem","then","data","document","cookie","updateUser","user"],"mappings":"AAAA,SAASA,OAAO,IAAPA,QAAT,QAAwB,eAAxB;AAEA,IAAMC,IAAI,GAAG;AACXC,EAAAA,eADW,6BACO;AAChB,QAAI,OAAOC,MAAP,IAAiB,WAArB,EACE,OAAO,KAAP;AAEF,QAAIC,cAAc,CAACC,OAAf,CAAuB,KAAvB,CAAJ,EACE,OAAOC,IAAI,CAACC,KAAL,CAAWH,cAAc,CAACC,OAAf,CAAuB,KAAvB,CAAX,CAAP,CADF,KAGE,OAAO,KAAP;AACH,GATU;AAUXG,EAAAA,YAVW,wBAUEC,GAVF,EAUOC,EAVP,EAUW;AACpB,QAAI,OAAOP,MAAP,KAAkB,WAAtB,EACEC,cAAc,CAACO,OAAf,CAAuB,KAAvB,EAA8BL,IAAI,CAACM,SAAL,CAAeH,GAAf,CAA9B;AACFC,IAAAA,EAAE;AACH,GAdU;AAeXV,EAAAA,OAfW,mBAeHU,EAfG,EAeC;AACV,QAAI,OAAOP,MAAP,KAAkB,WAAtB,EACEC,cAAc,CAACS,UAAf,CAA0B,KAA1B;AACFH,IAAAA,EAAE,GAHQ,CAIV;;AACAV,IAAAA,QAAO,GAAGc,IAAV,CAAe,UAACC,IAAD,EAAU;AACvBC,MAAAA,QAAQ,CAACC,MAAT,GAAkB,oDAAlB;AACD,KAFD;AAGD,GAvBU;AAwBXC,EAAAA,UAxBW,sBAwBAC,IAxBA,EAwBMT,EAxBN,EAwBU;AACnB,QAAG,OAAOP,MAAP,KAAkB,WAArB,EAAiC;AAC/B,UAAGC,cAAc,CAACC,OAAf,CAAuB,KAAvB,CAAH,EAAiC;AAC/B,YAAIJ,KAAI,GAAGK,IAAI,CAACC,KAAL,CAAWH,cAAc,CAACC,OAAf,CAAuB,KAAvB,CAAX,CAAX;;AACAJ,QAAAA,KAAI,CAACkB,IAAL,GAAYA,IAAZ;AACAf,QAAAA,cAAc,CAACO,OAAf,CAAuB,KAAvB,EAA8BL,IAAI,CAACM,SAAL,CAAeX,KAAf,CAA9B;AACAS,QAAAA,EAAE;AACH;AACF;AACF;AAjCU,CAAb;AAoCA,eAAeT,IAAf","sourcesContent":["import { signout } from './api-auth.js'\n\nconst auth = {\n  isAuthenticated() {\n    if (typeof window == \"undefined\")\n      return false\n\n    if (sessionStorage.getItem('jwt'))\n      return JSON.parse(sessionStorage.getItem('jwt'))\n    else\n      return false\n  },\n  authenticate(jwt, cb) {\n    if (typeof window !== \"undefined\")\n      sessionStorage.setItem('jwt', JSON.stringify(jwt))\n    cb()\n  },\n  signout(cb) {\n    if (typeof window !== \"undefined\")\n      sessionStorage.removeItem('jwt')\n    cb()\n    //optional\n    signout().then((data) => {\n      document.cookie = \"t=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;\"\n    })\n  },\n  updateUser(user, cb) {\n    if(typeof window !== \"undefined\"){\n      if(sessionStorage.getItem('jwt')){\n        let auth = JSON.parse(sessionStorage.getItem('jwt'))\n        auth.user = user\n        sessionStorage.setItem('jwt', JSON.stringify(auth))\n        cb()\n      }\n    }\n  }\n}\n\nexport default auth\n"]},"metadata":{},"sourceType":"module"}